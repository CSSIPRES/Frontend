<!--  <h1 mat-dialog-title>
   Demande d'Immatriculation
  </h1> -->

<div fxLayoutAlign="space-between center">
  <h1 mat-dialog-title>Demande d'immatriculation</h1>
  <button mat-dialog-title mat-button class="close-icon" [mat-dialog-close]="true">
    <mat-icon color="warn">close</mat-icon>
  </button>
</div>

<div mat-dialog-content>
  <div *ngIf="loader" class="center">
    <mat-progress-spinner strokeWidth="3" diameter=35 mode="indeterminate" color="primary">
    </mat-progress-spinner>
  </div>

  <form [formGroup]="immatForm">
    <div formGroupName="input">
      <mat-horizontal-stepper  #stepper class="mt-1">
        <mat-step *ngIf="infoEmp" [stepControl]="immatForm.get('input').get('employerQuery')"
          label="Information Employeur" state="chat">
          <div class="mt-5" formGroupName="employerQuery">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('employerQuery').valid ? 'rgb(14, 189, 8)' : ''}">Informations
                Employeur
              </span>
            </ng-template>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Type employeur</mat-label>
                <mat-select (selectionChange)="selectForm($event)" formControlName="employerType">
                  <perfect-scrollbar>
                    <mat-option value="PVT">Société privée</mat-option>
                    <!-- <mat-option value="TIND">Travailleur indépendant</mat-option>
            <mat-option value="REP_DIP">Représentation diplomatique</mat-option>
            <mat-option value="PUB_PARA">Structure publique et parapublique</mat-option>
            <mat-option value="PROJ">Projet</mat-option> -->
                    <mat-option value="NGO">ONG</mat-option>
                    <!-- <mat-option value="MAIN">Maintien Affiliation</mat-option>
            <mat-option value="LIB">Profession Libérale</mat-option>
            <mat-option value="ASSO">Association</mat-option>
            <mat-option value="INDV">Entreprise Individuelle</mat-option>
            <mat-option value="ONG">ONG</mat-option>
            <mat-option value="GIE">GIE</mat-option>
            <mat-option value="DOM">Domestique</mat-option> -->
                    <mat-option value="COOP">Coopérative</mat-option>
                    <mat-option value="ASSO">Association</mat-option>
                    <mat-option value="GIE">GIE</mat-option>
                  </perfect-scrollbar>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Raison sociale</mat-label>
                <input matInput formControlName="employerName">
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Statut juridique</mat-label>
                <mat-select formControlName="legalStatus">
                  <mat-option value="CONC">GIE</mat-option>
                  <mat-option value="DEVP">Projet de développement</mat-option>
                  <mat-option value="DIPR">Représentant diplomatique / Organisation International</mat-option>
                  <mat-option value="ENTE">SA</mat-option>
                  <mat-option value="LIBP">Profession Libérale</mat-option>
                  <mat-option value="LOCE">SARL</mat-option>
                  <mat-option value="PHYP">SUARL</mat-option>
                  <mat-option value="PUB">Société en commandite</mat-option>
                  <mat-option value="PUBP">Etablissement publique et parapublique</mat-option>
                </mat-select>
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
                <!-- <mat-error 
          *ngIf="immatForm.get('input').get('employerQuery').controls['legalStatus'].dirty 
          || immatForm.get('input').get('employerQuery')').controls['legalStatus'].touched">Ce champ est obligatoire.</mat-error> -->

              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>NINEA</mat-label>
                <input (blur)="getNineaNumber()" matInput formControlName="nineaNumber">
                <mat-icon matSuffix> short_text</mat-icon>
                <mat-error *ngIf="nineaNumber.hasError('required')">Ce champs est obligatoire.</mat-error>
                <mat-error *ngIf="(nineaNumber.hasError('maxlength'))||(nineaNumber.hasError('minlength'))">
                  Le NINEA doit etre de 9 chiffres.</mat-error>
                <mat-hint class="text-danger" *ngIf="nineaExist">
                  Ce NINEA existe deja.</mat-hint>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="1%">
              <mat-form-field fxFlex="50%" fxLayoutGap="5%" appearance="outline">
                <mat-label>Type établissement</mat-label>
                <mat-select formControlName="typeEtablissement" required>
                  <mat-option value="HDQT">Siége</mat-option>
                  <mat-option value="BRNC">Agence/Sucursale</mat-option>
                  <mat-option value="CNST">Chantier</mat-option>
                </mat-select>
                <mat-icon matSuffix>people_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field fxFlex="15%" appearance="outline">
                <mat-label>Date d'identification fiscale</mat-label>
                <input matInput formControlName="taxIdDate" required [matDatepicker]="taxIdDate">
                <mat-datepicker-toggle matSuffix [for]="taxIdDate"></mat-datepicker-toggle>
                <mat-datepicker #taxIdDate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Date registre de commerce</mat-label>
                <input matInput formControlName="tradeRegisterDate" required [matDatepicker]="tradeRegisterDate">
                <mat-datepicker-toggle matSuffix [for]="tradeRegisterDate"></mat-datepicker-toggle>
                <mat-datepicker #tradeRegisterDate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div *ngIf="empInfoField" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Arret decret</mat-label>
                <input matInput formControlName="arretOuDecret">
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Date arret decret</mat-label>
                <input matInput formControlName="dateArreteOuDecret">
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div *ngIf="empInfoField" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>estType</mat-label>
                <input matInput formControlName="estType" required>
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>HQID</mat-label>
                <input matInput formControlName="hqId" required>
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div *ngIf="!empInfoField" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field fxFlex="47.5%" appearance="outline">
                <mat-label>Numéro registre de commerce</mat-label>
                <input type="text" matInput formControlName="tradeRegisterNumber" placeholder="SN.AAA.0000.A.00000"
                  required>
                <mat-error *ngIf="tradeRegisterNumber.hasError('required')">
                  Ce champ est obligatoire.
                </mat-error>
                <mat-error *ngIf="tradeRegisterNumber.hasError('pattern')">
                  Numero de registre de commerce invalide.
                </mat-error>
              </mat-form-field>

              <mat-form-field *ngIf="typeEtablissement.value=='BRNC' || typeEtablissement.value=='CNST'"
                appearance="outline">
                <mat-label>Ninet</mat-label>
                <input matInput formControlName="ninetNumber">
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>

            </div>

            <div fxLayoutAlign="end" fxLayoutGap="5%">
              <button  [disabled]="!immatForm.get('input').get('employerQuery').valid" class="submit-button"
                mat-raised-button (click)="goForward($event)">Suivant<mat-icon>arrow_forward</mat-icon></button>
            </div>
          </div>
        </mat-step>
        <mat-step *ngIf="infoGen" [stepControl]="mainRegistrationForm" label="Informations Générales" state="phone">
          <div class="mt-5" formGroupName="mainRegistrationForm">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('mainRegistrationForm').valid ? 'rgb(14, 189, 8)' : ''}">Informations
                Générales</span>
            </ng-template>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Sigle</mat-label>
                <input matInput formControlName="shortName" />
                <mat-icon matSuffix>building</mat-icon>
                <!-- <div *ngIf="shortName."> -->
                <mat-error>Ce champ est obligatoire</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Activité principale </mat-label>
                <mat-select (selectionChange)="selectSector($event)" formControlName="mainLineOfBusiness" required>
                  <perfect-scrollbar style="height: 100%;">
                    <mat-option *ngFor="let mainSector of listactivitePrincipal.items"
                      [value]="mainSector.activitesprincipal">{{ mainSector.activitesprincipal }}</mat-option>
                  </perfect-scrollbar>
                </mat-select>
                <mat-icon matSuffix>perm_identity</mat-icon>
                <mat-error>Ce champ est obligatoire</mat-error>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="1%">
              <mat-form-field appearance="outline">
                <mat-label>Date d'inscription au registre de commerce</mat-label>
                <input (dateChange)="compareDate($event)" matInput formControlName="dateOfInspection" required
                  [matDatepicker]="dateOfInspection">
                <mat-datepicker-toggle matSuffix [for]="dateOfInspection"></mat-datepicker-toggle>
                <mat-datepicker #dateOfInspection></mat-datepicker>
                <mat-error>
                  Ce champs est obligatoire
                </mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Date embauche premier salarie </mat-label>
                <input (dateChange)="compareDate($event)" matInput formControlName="dateOfFirstHire" required
                  [matDatepicker]="dateOfFirstHire">
                <mat-datepicker-toggle matSuffix [for]="dateOfFirstHire">
                  <!-- <mat-icon matDatepickerToggleIcon>settings</mat-icon> -->
                </mat-datepicker-toggle>
                <mat-datepicker #dateOfFirstHire></mat-datepicker>
                <mat-error>
                  Ce champ est obligatoire.
                </mat-error>
                <mat-hint class="text-danger" *ngIf="dateErrors">
                  La date d'ouverture doit etre avant la date d'inscription
                </mat-hint>
              </mat-form-field>
              <mat-form-field fxFlex="70" appearance="outline">
                <mat-label>Secteur d'activité</mat-label>
                <input matInput formControlName="businessSector" readonly required>
                <mat-icon matSuffix>perm_identity</mat-icon>
                <mat-error>Ce champ est obligatoire</mat-error>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">

              <mat-form-field appearance="outline">
                <mat-label>Région</mat-label>
                <mat-select (selectionChange)="selectRegion($event)" formControlName="region" required>
                  <mat-option *ngFor="let r of listRegions.items" [value]="r.region">{{ r.region | titlecase }}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>map</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Départment</mat-label>
                <mat-select (selectionChange)="selectDepartement($event)" formControlName="department" required>
                  <mat-option *ngFor="let d of listD" [value]="d.departement">
                    {{d.departement | titlecase }}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Arrondissement</mat-label>
                <mat-select (selectionChange)="selectArrondissement($event)" formControlName="arondissement" required>
                  <mat-option *ngFor="let ar of listA" [value]="ar.arrondissement">
                    {{ar.arrondissement | titlecase}}</mat-option>

                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field fxFlex="30" appearance="outline">
                <mat-label>Commune</mat-label>
                <mat-select (selectionChange)="selectCommne($event)" formControlName="commune" required>
                  <mat-option *ngFor="let c of listC" [value]="c.commune">{{c.commune | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field fxFlex="30" appearance="outline">
                <mat-label>Quartier</mat-label>
                <mat-select formControlName="qartier" required>
                  <mat-option *ngFor="let q of listQ" [value]="q.quartier">{{ q.quartier | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>email</mat-icon>
                <mat-error>
                  Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Adresse de l'entreprise</mat-label>
                <input matInput formControlName="address" required>
                <mat-icon matSuffix>email</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Email Entreprise</mat-label>
                <input matInput formControlName="email">
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="email.hasError('required')">
                  Ce champ est obligatoire.</mat-error>
                <mat-error *ngIf="email.hasError('pattern')">
                  Adresse email invalide.</mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Site web</mat-label>
                <input matInput formControlName="website">
                <mat-icon matSuffix>email</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Téléphone Entreprise</mat-label>
                <input type="number" matInput formControlName="telephone" required>
                <mat-icon matSuffix> phone</mat-icon>
                <mat-error *ngIf="telephone.hasError('required')">Le numero de telephone est obligatoire.</mat-error>
                <mat-error *ngIf="telephone.hasError('pattern')">Numero de telephone invalide.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nombre de salariés au régime général</mat-label>
                <input type="number" (blur)="validateNumbEmployee()" matInput formControlName="noOfWorkersInGenScheme"
                  required>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nombre de salariés au régime cadre</mat-label>
                <input type="number" (blur)="validateNumbEmployee()" matInput formControlName="noOfWorkersInBasicScheme"
                  required>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error *ngIf="noOfWorkersInBasicScheme.hasError('required')">Ce champ est obligatoire.</mat-error>
                <mat-hint class="text-danger" *ngIf="validNumbOfworker">Ce nombre doit être inférieur au nombre de
                  salariés en régime général.</mat-hint>
              </mat-form-field>
            </div>
            <div class="mt-3" fxLayout="row" fxLayoutGap="5%">

            </div>
            <div fxLayoutAlign="end" fxLayoutGap="10%">
              <button mat-raised-button mat-button matStepperPrevious>
                <mat-icon>arrow_back</mat-icon>Precedent
              </button>
              <button [disabled]="!immatForm.get('input').get('mainRegistrationForm').valid || validError"
                class="submit-button" mat-raised-button matStepperNext>Suivant<mat-icon>arrow_forward</mat-icon>
                </button>
            </div>
          </div>
        </mat-step>
        <mat-step *ngIf="infoRepLeg" label="Representant légal" state="person_outlined">
          <div class="mt-5" formGroupName="legalRepresentativeForm">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('legalRepresentativeForm').valid ? 'rgb(14, 189, 8)' : ''}">
                Représentant légal</span></ng-template>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Nom</mat-label>
                <input matInput formControlName="lastName" required>
                <mat-icon matSuffix>person_outlined</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Prénom</mat-label>
                <input matInput formControlName="firstName" required>
                <mat-icon matSuffix>person_outlined</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Date de naissance</mat-label>
                <input (dateChange)="validDateNaissance($event)" matInput formControlName="birthdate" required
                  [matDatepicker]="birthdate">
                <mat-datepicker-toggle matSuffix [for]="birthdate"></mat-datepicker-toggle>
                <mat-datepicker #birthdate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
                <mat-hint class="text-danger" *ngIf="validDateNaiss">Vous devriez au moins avoir 18 ans.</mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nationalité</mat-label>
                <mat-select formControlName="nationality" required>
                  <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                    {{listPay.descr  | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>people_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Lieu de naissance</mat-label>
                <input matInput formControlName="placeOfBirth" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Ville de naissance</mat-label>
                <input matInput formControlName="cityOfBirth" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Type de pièce</mat-label>
                <!-- <mat-select (selectionChange)="validationPiece($event)" formControlName="typeOfIdentity" required>-->
                <mat-select (selectionChange)="incrementDate($event)" formControlName="typeOfIdentity" required>
                  <mat-option value="NIN">Carte nationale d'identite</mat-option>
                  <mat-option value="CDEAO">Carte d'identité CDEAO</mat-option>
                  <mat-option value="CONC">Carte Consulaire</mat-option>
                  <mat-option value="PASS">Passeport</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Numero de pièce d'identité</mat-label>
                <input (blur)="getNinNumber()" type="number" matInput formControlName="nin" required>
                <mat-error *ngIf="nin.hasError('required')">Ce champ est obligatoire.</mat-error>
                <mat-error *ngIf="nin.hasError('pattern')">
                  Numéro de pièce d'identité invalide</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Numéro de téléphone</mat-label>
                <input type="number" matInput formControlName="landLineNumber" required />
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Date de délivrance</mat-label>
                <!--  <input (dateChange)="validationPiece($event)" matInput formControlName="issuedDate" required [matDatepicker]="issuedDate"> -->
                <input (dateChange)="incrementDate($event)" matInput formControlName="issuedDate" required
                  [matDatepicker]="issuedDate">
                <mat-datepicker-toggle matSuffix [for]="issuedDate"></mat-datepicker-toggle>
                <mat-datepicker #issuedDate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field disabled appearance="outline">
                <mat-label>Date d'expiration</mat-label>
                <input (dateChange)="validationPiece($event)" matInput formControlName="expiryDate" required
                  [matDatepicker]="expiryDate">
                <mat-datepicker-toggle matSuffix [for]="expiryDate"></mat-datepicker-toggle>
                <mat-datepicker #expiryDate></mat-datepicker>
                <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->
                <mat-error>Ce champ est obligatoire.</mat-error>
                <!--   <mat-hint class="text-danger" *ngIf="validICN">
              La duree de votre <b class="text-danger">cni</b> validite doit etre de 10 ans.
            </mat-hint> -->
                <mat-hint class="text-danger" *ngIf="validPassport">
                  La durée de validité du <b class="text-danger">passeport</b> doit être de 5 à 10 ans.
                </mat-hint>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Région</mat-label>
                <mat-select (selectionChange)="selectRegion($event)" formControlName="region" required>
                  <mat-option *ngFor="let r of listRegions.items" [value]="r.region">{{r.region | titlecase}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Département</mat-label>
                <mat-select (selectionChange)="selectDepartement($event)" formControlName="department" required>
                  <mat-option *ngFor="let d of listD1" [value]="d.departement">
                    {{d.departement | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Arrondissement</mat-label>
                <mat-select (selectionChange)=" selectArrondissement($event)" formControlName="arondissement" required>
                  <mat-option *ngFor="let ar of listA1" [value]="ar.arrondissement">{{ar.arrondissement | titlecase}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Commune</mat-label>
                <mat-select (selectionChange)=" selectCommne($event)" formControlName="commune" required>
                  <mat-option *ngFor="let c of listC1" [value]="c.commune">{{c.commune | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Quartier</mat-label>
                <mat-select formControlName="qartier" required>
                  <mat-option *ngFor="let q of listQ1" [value]="q.quartier">{{q.quartier | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>email</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Adresse</mat-label>
                <input matInput formControlName="address" required>
                <mat-icon matSuffix>email</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Email représentant legal</mat-label>
                <input matInput formControlName="email" required>
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="email1.hasError('required')">
                  Ce champ est obligatoire.</mat-error>
                <mat-error *ngIf="email1.hasError('pattern')">
                  Adresse email invalide.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Téléphone Entreprise</mat-label>
                <input matInput formControlName="mobileNumber" required>
                <mat-icon matSuffix> phone</mat-icon>
                <mat-error *ngIf="mobileNumber.hasError('required')">Ce champ est obligatoire.</mat-error>
                <mat-error *ngIf="mobileNumber.hasError('pattern')">
                  Ce numéro de téléphone est invalide.
                </mat-error>
              </mat-form-field>
            </div>
            <div fxLayoutAlign="end" fxLayoutGap="5%">
              <button mat-raised-button mat-button matStepperPrevious>
                <mat-icon>arrow_back</mat-icon>Précédent
              </button>
              <button [disabled]="!immatForm.get('input').get('legalRepresentativeForm').valid || validError"
                class="submit-button" mat-raised-button matStepperNext>Suivant<mat-icon>arrow_forward</mat-icon>
                </button>
            </div>

          </div>
        </mat-step>
        <mat-step *ngIf="infoPersoneContact" label="Information contact" state="chat">
          <div class="mt-5" formGroupName="personneContact">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('personneContact').valid ? 'rgb(14, 189, 8)' : ''}">Personne
                conact
              </span>
            </ng-template>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Nom</mat-label>
                <input matInput formControlName="nom" required>
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Prénom</mat-label>
                <input matInput formControlName="nom" required>
                <mat-icon matSuffix>drag_handle</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Type de pièce</mat-label>
                <mat-select (selectionChange)="validationPiece($event)" formControlName="typeOfIdentity" required>
                  <mat-option value="NIN">Carte nationale d'identité</mat-option>
                  <mat-option value="CDEAO">Carte d'identité CEDEAO</mat-option>
                  <mat-option value="CONC">Carte Consulaire</mat-option>
                  <mat-option value="PASS">Passeport</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>

              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Numéro de pièce d'identité</mat-label>
                <input type="number" matInput formControlName="nin" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
                <mat-error>
                  Numéro de pièce d'identité invalide</mat-error>
              </mat-form-field>

            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Numéro téléphone fixe </mat-label>
                <input type="number" matInput formControlName="telephoneFixe" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Numéro téléphone mobile </mat-label>
                <input type="number" matInput formControlName="numeroMobile" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Adresse email </mat-label>
                <input type="email" matInput formControlName="email" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayoutAlign="end" fxLayoutGap="5%">
              <button mat-raised-button mat-button matStepperPrevious>
                <mat-icon>arrow_back</mat-icon>Précédent
              </button>
              <button [disabled]="!immatForm.get('input').get('personneContact').valid" class="submit-button"
                mat-raised-button matStepperNext>Suivant<mat-icon>arrow_forward</mat-icon></button>
            </div>
          </div>
        </mat-step>
        <mat-step *ngIf="domInfo" label="Information contact" state="chat">
          <div class="mt-5" formGroupName="domesticRegistrationForm">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('domesticRegistrationForm').valid ? 'rgb(14, 189, 8)' : ''}">Formulaire
                régistration
              </span>
            </ng-template>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Date embauche premier salarié</mat-label>
                <input matInput formControlName="dateEmbauchePremierSalarie" required
                  [matDatepicker]="dateEmbauchePremierSalarie">
                <mat-datepicker-toggle matSuffix [for]="dateEmbauchePremierSalarie"></mat-datepicker-toggle>
                <mat-datepicker #dateEmbauchePremierSalarie></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Type de pièce</mat-label>
                <mat-select formControlName="idType" required>
                  <mat-option value="NIN">Carte nationale d'identité</mat-option>
                  <mat-option value="CDEAO">Carte d'identité CEDEAO</mat-option>
                  <mat-option value="CONC">Carte Consulaire</mat-option>
                  <mat-option value="PASS">Passeport</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Numéro d'identifiant </mat-label>
                <input type="number" matInput formControlName="nin" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nom </mat-label>
                <input type="text" matInput formControlName="firstName" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Prénom </mat-label>
                <input type="text" matInput formControlName="lastName" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Nationalité</mat-label>
                <mat-select formControlName="nationality" required>
                  <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                    {{listPay.descr  | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>people_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Date de délivrance</mat-label>
                <input matInput formControlName="issuedDate" required [matDatepicker]="issuedDate">
                <mat-datepicker-toggle matSuffix [for]="issuedDate"></mat-datepicker-toggle>
                <mat-datepicker #issuedDate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Date d'expiration</mat-label>
                <input matInput formControlName="expiryDate" required [matDatepicker]="expiryDate">
                <mat-datepicker-toggle matSuffix [for]="expiryDate"></mat-datepicker-toggle>
                <mat-datepicker #expiryDate></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Date de naissance</mat-label>
                <input matInput formControlName="dateOfBirth" readonly required [matDatepicker]="dateOfBirth">
                <mat-datepicker-toggle matSuffix [for]="dateOfBirth"></mat-datepicker-toggle>
                <mat-datepicker #dateOfBirth></mat-datepicker>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Pays de naissance</mat-label>
                <mat-select formControlName="countryOfBirth" required>
                  <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                    {{listPay.descr  | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>people_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Ville de naissance </mat-label>
                <input type="text" matInput formControlName="cityOfBirth" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Ville de naissance </mat-label>
                <input type="number" matInput formControlName="phoneNumber" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Activité principale </mat-label>
                <mat-select (selectionChange)="selectSector($event)" formControlName="mainLineOfBusiness" required>
                  <perfect-scrollbar style="height: 100%;">
                    <mat-option *ngFor="let mainSector of listactivitePrincipal.items"
                      [value]="mainSector.activitesprincipal">{{ mainSector.activitesprincipal }}</mat-option>
                  </perfect-scrollbar>
                </mat-select>
                <mat-icon matSuffix>perm_identity</mat-icon>
                <mat-error>Ce champ est obligatoire</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Ville de naissance </mat-label>
                <input type="email" matInput formControlName="email" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Secteur d'activité</mat-label>
                <input matInput formControlName="businessSector" readonly required>
                <mat-icon matSuffix>perm_identity</mat-icon>
                <mat-error>Ce champ est obligatoire</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Région</mat-label>
                <mat-select (selectionChange)="selectRegion($event)" formControlName="region" required>
                  <mat-option *ngFor="let r of listRegions.items" [value]="r.region">{{r.region | titlecase}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Département</mat-label>
                <mat-select (selectionChange)="selectDepartement($event)" formControlName="departement" required>
                  <mat-option *ngFor="let d of listD2" [value]="d.departement">
                    {{d.departement | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Arrondissement</mat-label>
                <mat-select (selectionChange)="selectArrondissement($event)" formControlName="arrondissement" required>
                  <mat-option *ngFor="let ar of listA2" [value]="ar.arrondissement">{{ar.arrondissement | titlecase}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutGap="5%">
              <mat-form-field appearance="outline">
                <mat-label>Commune</mat-label>
                <mat-select (selectionChange)="selectCommne($event)" formControlName="commune" required>
                  <mat-option *ngFor="let c of listC2" [value]="c.commune">{{c.commune | titlecase}}</mat-option>
                </mat-select>
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Quartier</mat-label>
                <mat-select formControlName="quartier" required>
                  <mat-option *ngFor="let q of listQ2" [value]="q.quartier">{{q.quartier | titlecase}}</mat-option>
                </mat-select>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>Adresse</mat-label>
                <input matInput formControlName="adresse" required>
                <mat-error>Ce champ est obligatoire.</mat-error>
              </mat-form-field>
            </div>
          </div>
        </mat-step>
        <mat-step label="Ajouter salarié" state="person_outlined">
          <div class="mt-5" formArrayName="employeList">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('employeList').valid && immatForm.get('input').get('employeList').value.length>0 ? 'rgb(14, 189, 8)' : ''}">Liste
                des salariés
              </span>
            </ng-template>
            <div fxLayout="row" fxLayoutAlign="space-between center">
              <div class="mt-3" fxFlex="50">
                <!-- <mat-form-field style="width: 70%;"  appearance="outline" class="filter">
                <mat-label>Rechercher un salarie</mat-label>
                <input matInput>
              </mat-form-field> -->
              </div>
              <div class="mt-3" fxLayoutAlign="end" fxLayoutGap="2%">
                <button mat-raised-button class="submit-secondary" (click)="fileInput.click()" color="primary">Importer
                  un fichier .xlsx
                  <input hidden #fileInput type="file" (change)=" onFileChange($event)" />
                </button>
                <button mat-raised-button class="submit-button-small" (click)="uploadfile()">Charger</button>
              </div>
            </div>
            <!-- <mat-divider class="inset mt-3"></mat-divider> -->
            <table *ngIf="dataSource!=null" mat-table [dataSource]="dataSource" matSort>
              <ng-container matColumnDef="numeroAssureSocial">
                <th mat-header-cell *matHeaderCellDef> Numéro Sécurité Sociale </th>
                <td mat-cell *matCellDef="let element"> {{element.nomEmploye}} </td>
              </ng-container>
              <ng-container matColumnDef="nomEmploye">
                <th mat-header-cell *matHeaderCellDef> Nom </th>
                <td mat-cell *matCellDef="let element"> {{element.nomEmploye}} </td>
              </ng-container>
              <ng-container matColumnDef="prenomEmploye">
                <th mat-header-cell *matHeaderCellDef> Prénom </th>
                <td mat-cell *matCellDef="let element"> {{element.prenomEmploye}} </td>
              </ng-container>
              <ng-container matColumnDef="sexe">
                <th mat-header-cell *matHeaderCellDef> Sexe </th>
                <td mat-cell *matCellDef="let element"> {{element.sexe}} </td>
              </ng-container>
              <ng-container matColumnDef="dateNaissance">
                <th mat-header-cell *matHeaderCellDef> Date de naissance </th>
                <td mat-cell *matCellDef="let element"> {{element.dateNaissance}} </td>
              </ng-container>
              <ng-container matColumnDef="numPieceIdentite">
                <th mat-header-cell *matHeaderCellDef> Type d'identité </th>
                <td mat-cell *matCellDef="let element"> {{element.typePieceIdentite}} </td>
              </ng-container>
              <ng-container matColumnDef="adresse">
                <th mat-header-cell *matHeaderCellDef>Numéro pièce d'identité </th>
                <td mat-cell *matCellDef="let element"> {{element.nin}} </td>
              </ng-container>
              <ng-container matColumnDef="natureContrat">
                <th mat-header-cell *matHeaderCellDef>Nature contrat </th>
                <td mat-cell *matCellDef="let element"> {{element.natureContrat}} </td>
              </ng-container>
              <ng-container matColumnDef="salaireContractuel">
                <th mat-header-cell *matHeaderCellDef>Salaire contractuel </th>
                <td mat-cell *matCellDef="let element"> {{element.salaireContractuel}} </td>
              </ng-container>
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Action </th>
                <td mat-cell *matCellDef="let element; let j=index;">
                  <button mat-fab (click)="fillEmpForm(j)" mat-mini-fab>
                    <mat-icon class="edit">edit</mat-icon>
                  </button> &nbsp;
                  <button mat-fab mat-mini-fab (click)="removeEmp(j)">
                    <mat-icon class="delete">delete_outline</mat-icon>
                  </button> </td>
                <td mat-cell *matCellDef="let element"> </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              <mat-paginator #paginator [pageSize]="3" [pageSizeOptions]="[3, 5, 10]">
              </mat-paginator>
            </table>
            <mat-divider class="inset mt-5 mb-3"></mat-divider>
            <div *ngIf="!maxRgGen" class="mt-2 mb-2" fxLayoutAlign="end" fxLayoutGap="10%">
              <!-- <button [disabled]="!immatForm.get('input').get('employeList').valid" class="addEmp" (click)="addNewEmp()" mat-mini-fab>
              <mat-icon>add</mat-icon>
            </button> -->
              <button class="addEmp" (click)="addNewEmp()" mat-mini-fab>
                <mat-icon>add</mat-icon>
              </button>
            </div>
            <div *ngFor="let item of immatForm.get('input').get('employeList')['controls']; let i = index;">
              <div *ngIf="addIndex==i && addEmpForm || editIndex==i && editEmpForm">
                <div [formGroupName]="i">
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Nom Salarié</mat-label>
                      <input matInput formControlName="nomEmploye" required>
                      <mat-icon matSuffix>email</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Prénom Salarié</mat-label>
                      <input matInput formControlName="prenomEmploye" required>
                      <mat-icon matSuffix>email</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Sexe</mat-label>
                      <mat-select formControlName="sexe" required>
                        <mat-option value="HOMME">HOMME</mat-option>
                        <mat-option value="FEMME">FEMME</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Etat civil</mat-label>
                      <mat-select formControlName="etatCivil" required>
                        <mat-option value="MAR">Marié</mat-option>
                        <mat-option value="CEL">Célibataire</mat-option>
                        <mat-option value="DIV">Divorcé</mat-option>
                        <mat-option value="VEU">Veuf/Veuve</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>email</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Date de naissance</mat-label>
                      <input matInput formControlName="dateNaissance" required [matDatepicker]="dateNaissance">
                      <mat-datepicker-toggle matSuffix [for]="dateNaissance"></mat-datepicker-toggle>
                      <mat-datepicker #dateNaissance></mat-datepicker>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Nationalité</mat-label>
                      <mat-select formControlName="nationalite" required>
                        <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                          {{listPay.descr  | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Type d'identité</mat-label>
                      <mat-select formControlName="typePieceIdentite" required>
                        <mat-option value="NIN">Carte nationale d'identité</mat-option>
                        <mat-option value="PASS">Passeport</mat-option>
                        <mat-option value="NIN">Carte CEDEAO</mat-option>
                        <mat-option value="CONC">Carte Consulaire</mat-option>
                        <mat-option value="CDEAO">Carte CDEAO</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Date Délivrance</mat-label>
                      <input (dateChange)="incrementSalDate($event,i)" matInput formControlName="delivreLe" required
                        [matDatepicker]="delivreLe">
                      <mat-datepicker-toggle matSuffix [for]="delivreLe"></mat-datepicker-toggle>
                      <mat-datepicker #delivreLe></mat-datepicker>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field *ngIf="immatForm.get('input').get('employeList').value[i].typePieceIdentite=='NIN'"
                      appearance="outline">
                      <mat-label>Numero de carte d'identité</mat-label>
                      <input matInput formControlName="nin">
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field *ngIf="immatForm.get('input').get('employeList').value[i].typePieceIdentite=='PASS'"
                      appearance="outline">
                      <mat-label>Numero piece d'identité</mat-label>
                      <input matInput formControlName="numPieceIdentite">
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field *ngIf="immatForm.get('input').get('employeList').value[i].typePieceIdentite=='CONC'"
                      appearance="outline">
                      <mat-label>Numero piece d'identite</mat-label>
                      <input matInput formControlName="numPieceIdentite">
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field
                      *ngIf="immatForm.get('input').get('employeList').value[i].typePieceIdentite=='CDEAO'"
                      appearance="outline">
                      <mat-label>Numero carte CEDEAO</mat-label>
                      <input matInput formControlName="numPieceIdentite">
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Date d'expiration</mat-label>
                      <input matInput formControlName="expireLe" required [matDatepicker]="expireLe">
                      <mat-datepicker-toggle matSuffix [for]="expireLe"></mat-datepicker-toggle>
                      <mat-datepicker #expireLe></mat-datepicker>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    
                    <mat-form-field appearance="outline">
                      <mat-label>Lieu delivrance</mat-label>
                      <mat-select formControlName="lieuDelivrance" required>
                        <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                          {{listPay.descr  | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Ville de naissance</mat-label>
                      <input matInput formControlName="villeNaissance" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Pays de naissance</mat-label>
                      <mat-select formControlName="paysNaissance" required>
                        <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                          {{listPay.descr  | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Pays de résidence</mat-label>
                      <mat-select formControlName="pays" required>
                        <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.codenat">
                          {{listPay.descr  | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">

                    <mat-form-field appearance="outline">
                      <mat-label>Région</mat-label>
                      <mat-select (selectionChange)="selectRegion($event)" formControlName="region" required>
                        <mat-option *ngFor="let r of listRegions.items" [value]="r.region">{{r.region | titlecase}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Département</mat-label>
                      <mat-select (selectionChange)="selectDepartement($event)" formControlName="departement" required>
                        <mat-option *ngFor="let d of listD2" [value]="d.departement">
                          {{d.departement | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Arrondissement</mat-label>
                      <mat-select (selectionChange)="selectArrondissement($event)" formControlName="arrondissement"
                        required>
                        <mat-option *ngFor="let ar of listA2" [value]="ar.arrondissement">
                          {{ar.arrondissement | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Commune</mat-label>
                      <mat-select (selectionChange)="selectCommne($event)" formControlName="commune" required>
                        <mat-option *ngFor="let c of listC2" [value]="c.commune">{{c.commune | titlecase}}</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Quartier</mat-label>
                      <mat-select formControlName="quartier" required>
                        <mat-option *ngFor="let q of listQ2" [value]="q.quartier">{{q.quartier | titlecase}}
                        </mat-option>
                      </mat-select>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Adresse</mat-label>
                      <input matInput formControlName="adresse" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Boite postale</mat-label>
                      <input matInput formControlName="boitePostale">
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Type mouvement</mat-label>
                      <mat-select formControlName="typeMouvement" required>
                        <mat-option value="EMBAUCHE">EMBAUCHE</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>

                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Nature contrat</mat-label>
                      <mat-select (selectionChange)="selectContrat(i)" formControlName="natureContrat" required>
                        <mat-option value="CDD">Contrat à durée determinée</mat-option>
                        <mat-option value="CDI">Contrat à durée indeterminée</mat-option>
                        <mat-option value="JOU">Journalier</mat-option>
                        <mat-option value="SPE">Contrat Spécial</mat-option>
                        <mat-option value="STA">Contrat de stage</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Date début contrat</mat-label>
                      <input matInput formControlName="dateDebutContrat" required [matDatepicker]="dateDebutContrat">
                      <mat-datepicker-toggle matSuffix [for]="dateDebutContrat"></mat-datepicker-toggle>
                      <mat-datepicker #dateDebutContrat></mat-datepicker>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>

                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field *ngIf="contrat" appearance="outline">
                      <mat-label>Date fin contrat</mat-label>
                      <input matInput formControlName="dateFinContrat" required [matDatepicker]="dateFinContrat">
                      <mat-datepicker-toggle matSuffix [for]="dateFinContrat"></mat-datepicker-toggle>
                      <mat-datepicker #dateFinContrat></mat-datepicker>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Profession</mat-label>
                      <input matInput formControlName="profession" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Emploi</mat-label>
                      <input matInput formControlName="emploi" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Salarié cadre</mat-label>
                      <mat-select formControlName="ouiCadre" required>
                        <mat-option value="true">Oui</mat-option>
                        <mat-option value="false">Non</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>

                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Convention applicable</mat-label>
                      <mat-select formControlName="conventionApplicable" required>
                        <mat-option value="CC1">CC des entreprises d'assurance, 30 juillet 1977</mat-option>
                        <mat-option value="CC2">CC du transport aérien, 08 novembre 1965</mat-option>
                        <mat-option value="CC3">CC des industries fédérales du vêtement, 10 janvier 1963</mat-option>
                        <mat-option value="CC4">CC du transport routier professionnel, 17 décembre 1959</mat-option>
                        <mat-option value="CC5">CC de l'industrie du corps gras, 04 juillet 1958</mat-option>
                        <mat-option value="CC6">CC du Commerce, 16 November 1956</mat-option>
                        <mat-option value="CC7">CC des Ouvriers Boulangeries de la Délégation de Dakar</mat-option>
                        <mat-option value="CC8">CC Fédérale des Entreprises du Bâtiment et des Travaux Publics,06
                          juillet 1</mat-option>
                        <mat-option value="CC9">CCF des Industries de Mécanique Générale de l'AOF</mat-option>
                        <mat-option value="CC10">CCF des Auxilliaires de Transports de l'AOF,10 décembre 1957
                        </mat-option>
                        <mat-option value="CC11">CCNP des Banques et Etablissements Financiers du Sénégal</mat-option>
                        <mat-option value="CC12">CC fixant les RGE de Trav relev de Prof Cin</mat-option>
                        <mat-option value="CC13">CC Industries extractives et de Prospection Minière de la Fédération du
                          Mali</mat-option>
                        <mat-option value="CC14">CCF des Industries Polygraphiques, 28 septembre 1960</mat-option>
                        <mat-option value="CC15">Les CT dans les Prof Agric Ass au Sénégal</mat-option>
                        <mat-option value="CC16">CCF des Industries de la Confection</mat-option>
                        <mat-option value="CC17">CC Fixant les CGE des dom et gens de maison, janvier 1968</mat-option>
                        <mat-option value="CC18">CC des Journalistes,Techniciens de Com Soc du Sénégal,1973</mat-option>
                        <mat-option value="CC19">CC fixant les Conditions des Officiers et MMMS,1 mars 1976</mat-option>
                        <mat-option value="CC20">CCN du Personnel de l'Enseignement Privé du Sénégal</mat-option>
                        <mat-option value="CC21">CCN des Industries Hôtelières de la République du Sénégal</mat-option>
                        <mat-option value="CC22">CC des marins pêcheurs industriels</mat-option>
                        <mat-option value="NCA1">CC pour les industries alimentaires, 19 juillet 1958</mat-option>
                        <mat-option value="NCA2">CC Inter professionnelle du Sénégal, 27 mai 1982</mat-option>
                        <mat-option value="NCA3">CC des industries chimiques, 23 juillet 1958</mat-option>
                        <mat-option value="NCATI">CC nationale des industries textiles</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Salaire contractuel</mat-label>
                      <input matInput formControlName="salaireContractuel" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <div fxLayout="row" fxLayoutGap="5%">
                    <mat-form-field appearance="outline">
                      <mat-label>Temps de travail</mat-label>
                      <mat-select formControlName="tempsTravail" required>
                        <mat-option value="TPS_PLEIN">Temps plein</mat-option>
                        <mat-option value="TPS_PARTIEL">Temps partiel</mat-option>
                      </mat-select>
                      <mat-icon matSuffix>work_outline</mat-icon>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                      <mat-label>Catégorie</mat-label>
                      <input matInput formControlName="categorie" required>
                      <mat-error>Ce champ est obligatoire.</mat-error>
                    </mat-form-field>
                  </div>
                  <!--         <button *ngIf="addEmpForm"  class="submit-add-edit"  [disabled]="!immatForm.get('input').get('employeList').valid"  mat-raised-button (click)="updateEmp()">Ajouter</button>
-->
                  <button *ngIf="addEmpForm" class="submit-add-edit" mat-raised-button
                    (click)="updateEmp(i)">Ajouter</button>
                  <button *ngIf="editEmpForm" class="submit-add-edit"
                    [disabled]="!immatForm.get('input').get('employeList').valid" mat-raised-button
                    (click)="updateEmp(i)">Modifier</button>
                </div>
              </div>
            </div>
            <div fxLayoutAlign="end" fxLayoutGap="5%">
              <button mat-raised-button mat-button matStepperPrevious>
                <mat-icon>arrow_back</mat-icon>Précédent
              </button>
              <button mat-raised-button [disabled]="!immatForm.get('input').get('employeList').valid"
                class="submit-button" mat-button matStepperNext>
                Suivant <mat-icon>arrow_forward</mat-icon>
              </button>
            </div>
          </div>
          <mat-toolbar class="warn mt-2" *ngIf="maxRgGen">Vous avez atteint le nombre maximal de salarié en régime
            général</mat-toolbar>
        </mat-step>


        <!--  ajout documents  -->
        <mat-step label="Documents à joindre" state="attach_file">
          <div class="mt-5" formArrayName="employeList">
            <ng-template matStepLabel>
              <span
                [ngStyle]="{'color': immatForm.get('input').get('employeList').valid ? 'rgb(14, 189, 8)' : ''}">Documents
                à joindre
              </span>
            </ng-template>


            <div *ngIf="immatForm.get('input').get('employerQuery').get('employerType').value === 'PVT'">
              <div class="row">
                <div class="col-md-6">
                  Demande écrite <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'demandeEcrit')" class="fileInputProfile"></a>
                    </div>



                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie du registre du commerce <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'registerCommerce')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Déclaration d'établissement visée par l'inspection du travail et de la sécurité sociale ou acte
                  notarié <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'declarationEtablissement')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Photocopie des statuts ou agrément <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'photocopieStatus')" class="fileInputProfile"></a>
                    </div>
                    <!-- (change)="fileChangeEvent($event)" -->
                  </div>
                </div>
              </div>
              <hr>



              <div class="row">
                <div class="col-md-6">
                  Photocopie de l'avis d'immatriculation de la direction de la statistique portant attribution du NINEA
                  <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'avisImmatriculation')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Déclaration du mouvement du travailleur <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'dmt')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Contrat de travail des salariés <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'contratsTravail')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>



              <div class="row">
                <div class="col-md-6">
                  Photocopie carte d'identité nationale de chaque salarié ou carte consulaire si salarié étranger <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Un bulletin d'adhésion à remplir ( imprimé à retirer à l'IPRES ) <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'bulletinsSalaire')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie pièce d'identité du gérant <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>



            </div>



            <div *ngIf="immatForm.get('input').get('employerQuery').get('employerType').value === 'GIE'">
              <div class="row">
                <div class="col-md-6">
                  Demande écrite <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'demandeEcrit')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Photocopie du registre du commerce <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'registerCommerce')" class="fileInputProfile"></a>
                    </div>
                    <!-- (change)="fileChangeEvent($event)" -->
                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Déclaration d'établissement visée par l'inspection du travail et de la sécurité sociale ou acte
                  notarié <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'declarationEtablissement')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie des statuts ou agrément <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'photocopieStatus')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Décret ou arrêté ministériel ou protocole d'accord ou convention ( pour les projets ) <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'decretMinisteriel')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Photocopie de l'avis d'immatriculation de la direction de la statistique portant attribution du NINEA
                  <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'avisImmatriculation')" class="fileInputProfile"></a>
                    </div>



                  </div>
                </div>
              </div>
              <hr>




              <div class="row">
                <div class="col-md-6">
                  Déclaration du mouvement du travail <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'dmt')"
                          class="fileInputProfile"></a>
                    </div>


                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Contrat de travail des salariés <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'contratsTravail')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie carte d'identité nationale de chaque salarié ou carte consulaire si salarié étranger <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Un bulletin d'adhésion à remplir ( imprimé à retirer à l'IPRES ) <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'bulletinsSalaire')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie de la pièce d'identité du gérant <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>



            </div>




            <div *ngIf="immatForm.get('input').get('employerQuery').get('employerType').value === 'NGO'">
              <div class="row">
                <div class="col-md-6">
                  Demande écrite <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'demandeEcrit')" class="fileInputProfile"></a>
                    </div>



                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie des statuts ou agrément <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'photocopieStatus')" class="fileInputProfile"></a>
                    </div>
                    <!-- (change)="fileChangeEvent($event)" -->
                  </div>
                </div>
              </div>
              <hr>




               



              <div class="row">
                <div class="col-md-6">
                  Photocopie de l'avis d'immatriculation la direction de la statistique portant attribution du NINEA
                  <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'avisImmatriculation')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Déclaration du mouvement du travailleur <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'dmt')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Contrat de travail des salariés <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'contratsTravail')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Photocopie carte d'identité nationale de chaque salarié ou carte consulaire si salarié étranger <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Un bulletin d'adhésion à remplir ( imprimé à retirer à l'IPRES ) <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'bulletinsSalaire')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie pièce d'identité du gérant <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>



            </div>


            <div *ngIf="immatForm.get('input').get('employerQuery').get('employerType').value === 'ASSO' || immatForm.get('input').get('employerQuery').get('employerType').value === 'COOP'">
              <div class="row">
                <div class="col-md-6">
                  Demande écrite <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'demandeEcrit')" class="fileInputProfile"></a>
                    </div>



                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Déclaration d'établissement visée par l'inspection du travail et de la sécurité sociale ou acte
                  notarié <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'declarationEtablissement')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>




              <div class="row">
                <div class="col-md-6">
                  Décret ou arrêté ministériel ou protocole d'accord ou convention ( pour les projets ) <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'decretMinisteriel')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>



              <div class="row">
                <div class="col-md-6">
                  Photocopie de l'avis d'immatriculation la direction de la statistique portant attribution du NINEA
                  <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'avisImmatriculation')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Déclaration du mouvement du travailleur <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'dmt')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Contrat de travail des salariés <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'contratsTravail')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Photocopie carte d'identité nationale de chaque salarié ou carte consulaire si salarié étranger <span
                    class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                          class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>


              <div class="row">
                <div class="col-md-6">
                  Un bulletin d'adhésion à remplir ( imprimé à retirer à l'IPRES ) <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'bulletinsSalaire')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>
              <hr>

              <div class="row">
                <div class="col-md-6">
                  Photocopie pièce d'identité du gérant <span class="required">*</span>
                </div>
                <div class="col-md-6">
                  <div class="field">
                    <div class="file">

                      <a class="btn btn-sm btn-join-file"> <input type="file"
                          (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                    </div>


                    <!-- (change)="fileChangeEvent($event)" -->

                  </div>
                </div>
              </div>



            </div>



           <!--  <div class="row">
              <div class="col-md-6">
                Photocopie des statuts ou agrément <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'photocopieStatus')" class="fileInputProfile"></a>
                  </div>


                  

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Photocopie de l'avis d'immatriculation la direction de la statistique portant attribution du NINEA <span
                  class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'avisImmatriculation')" class="fileInputProfile"></a>
                  </div>

 

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Déclaration du mouvement du travailleur <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'dmt')"
                        class="fileInputProfile"></a>
                  </div>


                   

                </div>
              </div>
            </div>
            <hr>


            <div class="row">
              <div class="col-md-6">
                Contrat de travail des salariés <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'contratsTravail')" class="fileInputProfile"></a>
                  </div>


                   

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Photocopie carte d'identité nationale de chaque salarié ou carte consulaire si salarié étranger <span
                  class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                        class="fileInputProfile"></a>
                  </div>


                  

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Un bulletin d'adhésion à remplir ( imprimé à retirer à l'IPRES ) <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'bulletinsSalaire')" class="fileInputProfile"></a>
                  </div>


                  

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Certificat de travail du dernier employeur <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file" class="fileInputProfile"></a>
                  </div>


                  

                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Photocopie légalisée de la carte nationale d'identité ( pour les nationaux ) et passport ou carte
                consulaire ( pour les étrangers du demandeur ) <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">
                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                  </div>
                  
                
               </div>
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-md-6">
                Photocopie pièce d'identités de l'emloyeur <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file" (change)="fileChangeEvent($event,'cni')"
                        class="fileInputProfile"></a>
                  </div>

                            
                  
             
                </div>
              </div>
            </div>
            <hr>

            <div class="row">
              <div class="col-md-6">
                Photocopie pièce d'identités du gérant <span class="required">*</span>
              </div>
              <div class="col-md-6">
                <div class="field">
                  <div class="file">

                    <a class="btn btn-sm btn-join-file"> <input type="file"
                        (change)="fileChangeEvent($event,'carteNationaleIdentite')" class="fileInputProfile"></a>
                  </div>



                </div>
              </div>
            </div> -->

          </div>
          <div class="mt-3" fxLayoutAlign="end" fxLayoutGap="10%">
            <button mat-raised-button mat-button matStepperPrevious>
              <mat-icon>arrow_back</mat-icon>Precedent
            </button>
            <button mat-raised-button class="submit-button" mat-button matStepperNext>
              Suivant <mat-icon>arrow_forward</mat-icon>
            </button>
          </div>
        </mat-step>
        <mat-step editable="false" label="Comfirmation" class="mt-1" state="done_all">
          <ng-template matStepLabel>
            <span [ngStyle]="{'color': immatForm.get('input').valid ? 'rgb(14, 189, 8)' : ''}"> Comfirmation</span>
          </ng-template>
          <h4 class="mt-2 mb-2">Confirmation Demande</h4><br>
          <div *ngIf="infoGen" class="report_infoFen pb-5">
            <mat-icon class="icon">person_outline</mat-icon>
            <h5>Informations Générales</h5><br>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b> Nom de l'entreprise</b>
                &nbsp;
                <span>{{employerName.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Activité Principale</b>
                &nbsp;
                <span> {{mainLineOfBusiness.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Secteur d'activité</b>
                &nbsp;
                <span> {{businessSector.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Date d'inspection </b>
                &nbsp;
                <span>
                  {{immatForm.get('input').get('mainRegistrationForm').get('dateOfInspection').value | date:'shortDate'}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Date d'ouverture</b>
                &nbsp;
                <span>{{immatForm.get('input').get('mainRegistrationForm').get('dateOfFirstHire').value | date:'shortDate'}}</span>
              </div>
              <div fxFlex="50">
                <b>Région</b>
                &nbsp;
                <span> {{region.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Département</b>
                &nbsp;
                <span> {{department.value | titlecase}}</span>
              </div>
              <div fxFlex="50">
                <b>Arrondissement</b>
                &nbsp;
                <span> {{arondissement.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Commune</b>
                &nbsp;
                <span> {{commune.value | titlecase}}</span>
              </div>
              <div fxFlex="50">
                <b>Quartier</b>
                &nbsp;
                <span> {{qartier.value}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Adresse:</b>
                <span> {{address.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Téléphone</b>
                &nbsp;
                <span> {{telephone.value}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Email Entreprise</b>
                &nbsp;
                <span> {{email.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Site Web</b>
                &nbsp;
                <span> {{website.value}}</span>
              </div>
            </div>

          </div>
          <div *ngIf="infoEmp" class="report_infoEmpl pb-5 mt-3">
            <mat-icon class="icon">person_outline</mat-icon>
            <h5>Information Employeur</h5><br>
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Type employeur</b>
                &nbsp;
                <span> {{employerType.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Type etablissement</b>
                &nbsp;
                <span>{{typeEtablissement.value}}</span>
              </div>
            </div>

            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Nom employeur</b>
                &nbsp;
                <span>{{employerName.value}}</span>
              </div>
              <div fxFlex="50">
                <b>NINEA</b>
                &nbsp;
                <span>{{nineaNumber.value}}</span>
              </div>
            </div>

            <!-- <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Numero ninet</b>
                &nbsp;
                <span> {{regType.value}}</span>
              </div>
            </div> -->

          </div>
          <div *ngIf="infoRepLeg" class="report_repLeagl pb-5">
            <mat-icon class="icon">person_outline</mat-icon>
            <h5>Représentant légal</h5><br>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Nom</b>
                <span> {{lastName.value}} </span>
              </div>
              <div fxFlex="50">
                <b>Prénom</b>
                &nbsp;
                <span> {{ firstName.value }}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->

            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Date de naissance</b>
                &nbsp;
                <span>
                  {{ immatForm.get('input').get('legalRepresentativeForm').get('birthdate').value | date:'shortDate'}}</span>
              </div>
              <div fxFlex="50">
                <b>Nationalité</b>
                &nbsp;
                <span> {{nationality.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Lieu de naissance</b>
                &nbsp;
                <span> {{placeOfBirth.value }}</span>
              </div>
              <div fxFlex="50">
                <b>Ville de Naissance</b>
                &nbsp;
                <span> {{cityOfBirth.value}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Type de pièce d'identité</b>
                &nbsp;
                <span> {{typeOfIdentity.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Numéro pièce d'identité</b>
                &nbsp;
                <span> {{nin.value}} </span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>NIN CEDEAO</b>
                &nbsp;
                <span> {{ninCedeo.value}} </span>
              </div>
              <div fxFlex="50">
                <b>Date de délivrance</b>
                &nbsp;
                <span>
                  {{immatForm.get('input').get('legalRepresentativeForm').get('issuedDate').value | date:'shortDate'}}
                </span>
              </div>
            </div>
            <mat-divider class="inset"></mat-divider>
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Date d'expiration</b>
                &nbsp;
                <span>
                  {{immatForm.get('input').get('legalRepresentativeForm').get('expiryDate').value | date:'shortDate'}}</span>
              </div>
              <div fxFlex="50">
                <b>Région</b>
                &nbsp;
                <span> {{region1.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Départment</b>
                &nbsp;
                <span> {{department1.value | titlecase}}</span>
              </div>
              <div fxFlex="50">
                <b>Arrondissement</b>
                &nbsp;
                <span> {{arondissement1.value | titlecase}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Commune</b>
                &nbsp;
                <span> {{ commune1.value | titlecase}}</span>
              </div>
              <div fxFlex="50">
                <b>Quartier</b>
                &nbsp;
                <span> {{qartier1.value}}</span>
              </div>
            </div>
            <!--  <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Email</b>
                <span> {{email1.value}}</span>
              </div>
              <div fxFlex="50">
                <b>Numéro Téléphone</b>
                &nbsp;
                <span> {{mobileNumber.value}}</span>
              </div>
            </div>
            <!-- <mat-divider class="inset"></mat-divider> -->
            <div fxLayout="row" class="back_report1 pt-3 pb-3 pl-3" fxLayoutGap="5%">
              <div fxFlex="50">
                <b>Adresse</b>
                &nbsp;
                <span> {{address1.value}}</span>
              </div>
            </div>

            <!-- <mat-divider class="inset"></mat-divider> -->
          </div>
          <div class="mt-3" fxLayoutAlign="end" fxLayoutGap="10%">
            <button mat-raised-button mat-button matStepperPrevious>Précédent</button>
            <button class="submit-button" mat-raised-button type="submit" (click)="addImmatriculation()"
              class="submit-button" mat-button matStepperNext>Soumettre</button>
          </div>
        </mat-step>
        <ng-template matStepperIcon="phone">
          <mat-icon> create_new_folder</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="chat">
          <mat-icon>library_books</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="person_outlined">
          <mat-icon>person_outlined</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="folder_open">
          <mat-icon>folder_open</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="folder">
          <mat-icon>file</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="done_all">
          <mat-icon>done_all</mat-icon>
        </ng-template>
      </mat-horizontal-stepper>
    </div>
  </form>
</div>


<!-- <div>{{immatForm.get('input')}}</div> -->