
       
      <!-- <div class="center">
        <mat-progress-spinner diameter=40 mode="indeterminate">
        </mat-progress-spinner>
      </div> -->
    
   <h1 mat-dialog-title>
   
   Demande d'Immatriculation</h1>
      <div mat-dialog-content>
        <form action="" [formGroup]="input">
      <mat-horizontal-stepper #stepper class="mt-1">
        <mat-step formGroupName="mainRegistrationForm" [stepControl]="input.get('mainRegistrationForm')" label="Step 1" state="phone">
      <div class="mt-5">
     
      <ng-template matStepLabel>Information General</ng-template> 
      <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field  appearance="outline">
        <mat-label>Nom de l'entreprise</mat-label>
        <input matInput formControlName="shortName" required />
        <mat-icon matSuffix>company</mat-icon>
        <mat-error>Ce champ est obligatoire</mat-error>
      </mat-form-field>
      <mat-form-field  appearance="outline">
        <mat-label>Secteur d'activite</mat-label>
        <mat-select (selectionChange)="selectSector($event)" formControlName="businessSector" required>
        <mat-option *ngFor="let sector of listactivitePrincipal.items" [value]="sector.secteuractivites">{{ sector.secteuractivites }}</mat-option>
        </mat-select>
        <mat-icon matSuffix>perm_identity</mat-icon>
        <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->
        <mat-error>Ce champ est obligatoire</mat-error>
      </mat-form-field>
     
     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field  appearance="outline">
        <mat-label>Principal secteur d'activite</mat-label>
        <mat-select formControlName="mainLineOfBusiness" required>
          <perfect-scrollbar style="width: 100%; ">
          <mat-option *ngFor="let mainSector of listMainSector" [value]="mainSector.activitesprincipal">{{ mainSector.activitesprincipal | lowercase }}</mat-option>
        </perfect-scrollbar>
        </mat-select>
        <mat-icon matSuffix>perm_identity</mat-icon>
        <mat-error>Ce champ est obligatoire</mat-error>
      </mat-form-field>
      <mat-form-field  appearance="outline">
        <mat-label>Date d'inscription</mat-label>
        <input (dateChange)="compareDate($event)" matInput formControlName="dateOfInspection"  required
        [matDatepicker]="dateOfInspection">
        <mat-datepicker-toggle matSuffix [for]="dateOfInspection"></mat-datepicker-toggle>
        <mat-datepicker #dateOfInspection></mat-datepicker>
        <mat-error>
          Ce champs est obligatoire 
        </mat-error>
      </mat-form-field>
     

     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field   appearance="outline">
        <mat-label>Date d'ouverture</mat-label>
        <input (dateChange)="compareDate($event)"  matInput formControlName="dateOfFirstHire"  required
        [matDatepicker]="dateOfFirstHire">
        <mat-datepicker-toggle matSuffix [for]="dateOfFirstHire"></mat-datepicker-toggle>
        <mat-datepicker #dateOfFirstHire></mat-datepicker>
        <mat-error>
        Ce champ est obligatoire.
        </mat-error>
        <mat-hint class="text-danger" *ngIf="dateErrors">
          La date d'ouverture doit etre avant la date d'inscription
        </mat-hint> 
      </mat-form-field>
      <mat-form-field  appearance="outline">
        <mat-label>Region</mat-label>
        <mat-select (selectionChange)="selectRegion($event)"  formControlName="region" required>
          <mat-option  *ngFor="let r of listRegions.items" [value]="r.region">{{r.region | lowercase}}</mat-option>
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
     
     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field  appearance="outline">
        <mat-label>Department</mat-label>
        <mat-select (selectionChange)="selectDepartement($event)"   formControlName="department" required>
          <mat-option *ngFor="let d of listDepartments" [value]="d.departement">
            {{d.departement | lowercase }}</mat-option>
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      <mat-form-field  appearance="outline">
        <mat-label>Arondissement</mat-label>
        <mat-select (selectionChange)="selectArrondissement($event)" formControlName="arondissement" required>
          <mat-option *ngFor="let ar of listArrondissements" [value]="ar.arrondissement">{{ar.arrondissement | lowercase}}</mat-option>
          
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
     
     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field  appearance="outline">
        <mat-label>Commune</mat-label>
        <mat-select formControlName="commune" required>
          <mat-option *ngFor="let c of listCommunes" [value]="c.commune">{{c.commune | lowercase}}</mat-option>
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Email entreprise</mat-label>
        <input matInput formControlName="email" required>
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="input.get('mainRegistrationForm').get('email').hasError('required')">
          Ce champ est obligatoire.</mat-error>
        <mat-error *ngIf="input.get('mainRegistrationForm').get('email').hasError('pattern')" >
          Addresse email invalide.</mat-error>
      </mat-form-field>
     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field appearance="outline">
        <mat-label>Telephone Entreprise</mat-label>
        <input matInput formControlName="telephone" required>
        <mat-icon matSuffix> phone</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Site web</mat-label>
        <input matInput formControlName="website" required>
        <mat-icon matSuffix>email</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
     </div>
     <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field appearance="outline">
        <mat-label>Addresse de l'entreprise</mat-label>
        <input matInput formControlName="address" required>
        <mat-icon matSuffix>email</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      <mat-form-field  appearance="outline">
        <mat-label>Aucun travailleur en chaine basic</mat-label>
        <mat-select formControlName="noOfWorkersInBasicScheme" required>
          <mat-option value="0">Oui</mat-option>
          <mat-option value="1">Non</mat-option>
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
    
    </div>
    <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field  appearance="outline">
        <mat-label>Aucun travailleur chiane schema</mat-label>
        <mat-select formControlName="noOfWorkersInGenScheme" required>
          <mat-option value="0">Oui</mat-option>
          <mat-option value="1">Non</mat-option>
          
        </mat-select>
        <mat-icon matSuffix>work_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
    </div>
     <div fxLayoutAlign="end" fxLayoutGap="10%" >
      <button mat-raised-button matStepperPrevious>Precedent</button>
      <button class="submit-button" mat-raised-button matStepperNext>Suivant</button>
    </div>
   
  </div>
  </mat-step>
  <mat-step formGroupName="employerQuery" [stepControl]="input.get('employerQuery')" label="Step 2" state="chat">
    <div class="mt-5">
      <ng-template matStepLabel>Information Employeur</ng-template>
      <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field  appearance="outline">
          <mat-label>Type employeur</mat-label>
          <mat-select formControlName="employerType" required>
            <mat-option value="Association">Association</mat-option>
            <mat-option value="Cooperation">Cooperation</mat-option>
            <mat-option value="Dommestique">Dommestique</mat-option>
            <mat-option value="Entreprise individuelle">Entreprise individuelle</mat-option>
            <mat-option value="GIE">GIE</mat-option>
            <mat-option value="Maintient d'affilisation">Maintient d'affilisation</mat-option>
            <mat-option value="ONG">ONG</mat-option>
            <mat-option value="Profession liberale">Profession libérale</mat-option>
            <mat-option value="Projet">Projet</mat-option>
            <mat-option value="Représentant diplomatique">Représentant diplomatique</mat-option>
            <mat-option value="Societe privée">Societe privée</mat-option>
            <mat-option value="Structure publique et parapublique">Structure publique et parapublique</mat-option>
            <mat-option value="Travailleur indépendant">Travailleur indépendant</mat-option>

          </mat-select>
          <mat-icon matSuffix>work_outline</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Nom de l'employeur</mat-label>
          <input matInput formControlName="employerName" required>
          <mat-icon matSuffix>drag_handle</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
       </div>
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field appearance="outline">
          <mat-label>Prenom de l'employeur</mat-label>
          <input matInput formControlName="legalStatus" required>
          <mat-icon matSuffix>drag_handle</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        <mat-form-field  appearance="outline">
          <mat-label>Ninea Number</mat-label>
          <input type="number" (blur)="getNineaNumber()"   matInput formControlName="nineaNumber" required>
          <mat-icon matSuffix> short_text</mat-icon>
          <mat-error>Ce champs est obligatoire.</mat-error>
          <mat-hint *ngIf="nineaExist" class="text-danger">Ce ninea existe deja.</mat-hint>
          <!-- <mat-hint class="text-danger" *ngIf="!input.get('employerQuery').get('nineaNumber').errors.maxlength">Ninea invalide.</mat-hint> -->     
        </mat-form-field>
       
      </div>
      <div fxLayout="row" fxLayoutGap="10%">
      <mat-form-field appearance="outline">
        <mat-label>Type etablissement</mat-label>
        <mat-select formControlName="typeEtablissement" required>
          <mat-option value="Agence/Succursale">Agence/Succursale</mat-option>
          <mat-option value="Chantier">Chantier</mat-option>
          <mat-option value="Siège">Siège</mat-option>
        </mat-select>
        <mat-icon matSuffix>people_outline</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Type registre</mat-label>
        <input matInput formControlName="regType" required>
        <mat-icon matSuffix> short_text</mat-icon>
        <mat-error>Ce champ est obligatoire.</mat-error>
      </mat-form-field>
      </div>
    <!--  <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field appearance="outline">
          <mat-label>Adresse Representant Legale</mat-label>
          <input matInput required>
          <mat-icon matSuffix>person_outline</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Type d'identite</mat-label>
          <mat-select>
            <mat-option value="TypeId1">TypeId1</mat-option>
            <mat-option value="TypeId2">TypeId2</mat-option>
          </mat-select>
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>
      </div>
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field appearance="outline">
          <mat-label>Numero Piece d'Identite</mat-label>
          <input matInput required>
          <mat-icon matSuffix>check_circle_outline</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Date Delivrance</mat-label>
          <input matInput [matDatepicker]="dateDelivrance">
          <mat-datepicker-toggle matSuffix [for]="dateDelivrance"></mat-datepicker-toggle>
          <mat-datepicker #dateDelivrance></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutGap="10%">  
        <mat-form-field appearance="outline">
          <mat-label>Date Expiration</mat-label>
          <input matInput [matDatepicker]="dateExpiration">
          <mat-datepicker-toggle matSuffix [for]="dateExpiration"></mat-datepicker-toggle>
          <mat-datepicker #dateExpiration></mat-datepicker>
        </mat-form-field>
      </div> -->
        <div fxLayoutAlign="end" fxLayoutGap="10%">
          <button mat-raised-button mat-button matStepperPrevious>Precedent</button>
          <button class="submit-button" mat-button matStepperNext>Suivant</button>
        </div> 
    
  </div>
    </mat-step>
    <mat-step formGroupName="legalRepresentativeForm" [stepControl]="input.get('legalRepresentativeForm')" label="Step 3" state="person_outlined">
      <div class="mt-5">
        <ng-template matStepLabel>Representant legale</ng-template>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline" >
            <mat-label>Nom</mat-label>
            <input matInput formControlName="lastName" required>
            <mat-icon matSuffix>person_outlined</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Prenom</mat-label>
            <input matInput formControlName="firstName" required>
            <mat-icon matSuffix>person_outlined</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Date Naissance</mat-label>
            <input matInput formControlName="birthdate" required [matDatepicker]="birthdate">
            <mat-datepicker-toggle matSuffix [for]="birthdate"></mat-datepicker-toggle>
            <mat-datepicker #birthdate></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Nationalite</mat-label>
            <mat-select formControlName="nationality" required>
              <!-- <mat-option  value="SA">SN</mat-option> -->
              <mat-option *ngFor="let listPay of listPays.items" [value]="listPay.descr">{{listPay.descr  | lowercase}}</mat-option>
            </mat-select>
            <mat-icon matSuffix>people_outline</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Lieu de naissance</mat-label>
            <input matInput formControlName="placeOfBirth" required>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Ville de Naissance</mat-label>
            <input matInput formControlName="placeOfBirth" required>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field  appearance="outline">
            <mat-label>Type de piece</mat-label>
            <mat-select (selectionChange)="validationPiece($event)" formControlName="typeOfIdentity" required>
              <mat-option [value]="1">NIN</mat-option>
              <mat-option [value]="2">Passport</mat-option>
            </mat-select>
            <mat-icon matSuffix>work_outline</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Numero de piece d'identite</mat-label>
            <input matInput formControlName="nin" required>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Date Delivrance</mat-label>
            <input (dateChange)="validationPiece($event)" matInput formControlName="issuedDate" required [matDatepicker]="issuedDate">
            <mat-datepicker-toggle matSuffix [for]="issuedDate"></mat-datepicker-toggle>
            <mat-datepicker #issuedDate></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Date Expiration</mat-label>
            <input (dateChange)="validationPiece($event)"  matInput formControlName="expiryDate" required [matDatepicker]="expiryDate">
            <mat-datepicker-toggle  matSuffix [for]="expiryDate"></mat-datepicker-toggle>
            <mat-datepicker #expiryDate></mat-datepicker>
            <!-- <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon> -->
            <mat-error>Ce champ est obligatoire.</mat-error>
            <mat-hint class="text-danger" *ngIf="validICN">
              La duree de votre <b class="text-danger">cni</b> validite doit etre de 10 ans.
            </mat-hint>
            <mat-hint class="text-danger" *ngIf="validPassport">
              La duree de validite du <b class="text-danger">passport</b> doit etre 5 et 10 ans.
            </mat-hint>
          </mat-form-field>
        </div> 
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field  appearance="outline">
          <mat-label>Region</mat-label>
          <mat-select (selectionChange)="selectRegion(event)" formControlName="region" required>
            <mat-option *ngFor="let r of listRegions.items" [value]="r.region">{{r.region | lowercase}}</mat-option>
          </mat-select>
          <mat-icon matSuffix>work_outline</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        <mat-form-field  appearance="outline">
          <mat-label>Department</mat-label>
          <mat-select (selectionChange)="selectDepartement(event)"  formControlName="department" required>
            <mat-option *ngFor="let d of listDepartments" [value]="d.departement">
              {{d.departement | lowercase}}</mat-option>
          </mat-select>
          <mat-icon matSuffix>work_outline</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
       </div>
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field  appearance="outline">
          <mat-label>Arondissement</mat-label>
          <mat-select (selectionChange)=" selectArrondissement(event)" formControlName="arondissement" required>
            <mat-option *ngFor="let ar of listArrondissements" [value]="ar.arrondissement">{{ar.arrondissement | lowercase}}</mat-option>
          </mat-select>
          <mat-icon matSuffix>work_outline</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        <mat-form-field  appearance="outline">
          <mat-label>Commune</mat-label>
          <mat-select formControlName="commune" required>
            <mat-option *ngFor="let c of listCommunes" [value]="c.commune">{{c.commune | lowercase}}</mat-option>
          </mat-select>
          <mat-icon matSuffix>work_outline</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
       </div>
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field appearance="outline">
          <mat-label>Quartie</mat-label>
          <input matInput formControlName="qartier" required>
          <mat-icon matSuffix>email</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Adresse</mat-label>
          <input matInput formControlName="address" required>
          <mat-icon matSuffix>email</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field> 
       </div>
       <div fxLayout="row" fxLayoutGap="10%">
        <mat-form-field appearance="outline">
          <mat-label>Email representant legal</mat-label>
          <input matInput formControlName="email" required>
          <mat-icon matSuffix>email</mat-icon>
          <mat-error *ngIf="input.get('legalRepresentativeForm').get('email').hasError('required')">
            Ce champ est obligatoire.</mat-error>
          <mat-error *ngIf="input.get('legalRepresentativeForm').get('email').hasError('pattern')" >
            Addresse email invalide.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Telephone Entreprise</mat-label>
          <input matInput formControlName="mobileNumber" required>
          <mat-icon matSuffix> phone</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
       </div>
      <div fxLayoutAlign="end" fxLayoutGap="10%">
          <button mat-raised-button mat-button matStepperPrevious>Precedent</button>
          <button  class="submit-button"  mat-button matStepperNext>Suivant</button>
      </div>
      
    </div>
    </mat-step>
    <mat-step formGroupName="employeList" [stepControl]="input.get('employeList')" label="Ajouter salaries" state="person_outlined">
      <div *ngFor="let item of input.get('employeList').controls; let i = index;">
         <div [formGroupName]="i">
          <div fxLayout="row" fxLayoutGap="10%">
           <mat-form-field appearance="outline">
             <mat-label>Nom Employeur</mat-label>
             <input matInput formControlName="nomEmploye" required>
             <mat-icon matSuffix>email</mat-icon>
             <mat-error>Ce champ est obligatoire.</mat-error>
           </mat-form-field>
           <mat-form-field appearance="outline">
             <mat-label>Prenom Employeur</mat-label>
             <input matInput formControlName="prenomEmploye" required>
             <mat-icon matSuffix>email</mat-icon>
             <mat-error>Ce champ est obligatoire.</mat-error>
           </mat-form-field>
          </div>
          <div fxLayout="row" fxLayoutGap="10%">
           <mat-form-field appearance="outline">
              <mat-label>Sexe</mat-label>
              <mat-select formControlName="sexe" required>
                <mat-option [value]="HOMME" >HOMME</mat-option>
                <mat-option >FEMME</mat-option>
              </mat-select>
              <mat-icon matSuffix>work_outline</mat-icon>
              <mat-error>Ce champ est obligatoire.</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Etat civil</mat-label>
              <mat-select formControlName="etatCivil" required>
                <mat-option value="CEL" >CEL</mat-option>
                <mat-option >FEMME</mat-option>
              </mat-select>
              <mat-icon matSuffix>email</mat-icon>
              <mat-error>Ce champ est obligatoire.</mat-error>
            </mat-form-field>
        </div>
       
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Date Naissance</mat-label>
            <input matInput formControlName="dateNaissance" required [matDatepicker]="dateNaissance">
            <mat-datepicker-toggle matSuffix [for]="dateNaissance"></mat-datepicker-toggle>
            <mat-datepicker #dateNaissance></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field  appearance="outline">
            <mat-label>Nationalite</mat-label>
            <mat-select formControlName="nationalite" required>
              <mat-option>Senegalais</mat-option>
            </mat-select>
            <mat-icon matSuffix>work_outline</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Date Delivrance</mat-label>
            <input matInput formControlName="delivreLe" required [matDatepicker]="delivreLe">
            <mat-datepicker-toggle matSuffix [for]="delivreLe"></mat-datepicker-toggle>
            <mat-datepicker #delivreLe></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Date Expiration</mat-label>
            <input matInput formControlName="expireLe" required [matDatepicker]="expireLe">
            <mat-datepicker-toggle matSuffix [for]="expireLe"></mat-datepicker-toggle>
            <mat-datepicker #expireLe></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Ville de Naissance</mat-label>
            <input matInput formControlName="villeNaissance" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field  appearance="outline">
            <mat-label>Pays de Naissance</mat-label>
            <mat-select formControlName="paysNaissance" required>
              <mat-option *ngFor="let listPay of listPays.items" value="listPay.descr">{{listPay.descr}}</mat-option>
            </mat-select>
            <mat-icon matSuffix>work_outline</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Type piece</mat-label>
            <mat-select formControlName="sexe" required>
              <mat-option >NIN</mat-option>
              <mat-option >Passport</mat-option>
            </mat-select>
            <mat-icon matSuffix>work_outline</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Lieu de naissance</mat-label>
            <input matInput formControlName="paysNaissance" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Pays</mat-label>
            <mat-select formControlName="paysNaissance">
              <mat-option *ngFor="let listPay of listPays.items" value="listPay.descr">{{listPay.descr}}</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Departement</mat-label>
            <mat-select  formControlName="departement">
              <mat-option [value]="Podor">Podor</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Commune</mat-label>
            <mat-select  formControlName="commune">
              <mat-option [value]="Podor">Podor</mat-option>
              <mat-option [value]="Guede">Guede</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Arrondissement</mat-label>
            <mat-select  formControlName="arrondissement">
              <mat-option [value]="Podor">Podor</mat-option>
              <mat-option [value]="Guede">Guede</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Arrondissement</mat-label>
            <mat-select  formControlName="arrondissement">
              <mat-option value="Podor">Podor</mat-option>
              <mat-option value="Guede">Guede</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Quartie</mat-label>
          <input matInput formControlName="quartier" required>
          <mat-icon matSuffix>email</mat-icon>
          <mat-error>Ce champ est obligatoire.</mat-error>
        </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Adresse</mat-label>
            <input matInput formControlName="adresse" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Nature Contrat</mat-label>
            <mat-select formControlName="natureContrat">
              <mat-option>Embauche</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Nature Contrat</mat-label>
            <mat-select formControlName="natureContrat">
              <mat-option>contrat spécial</mat-option>
              <mat-option>contrat de stage</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Date Debut Contrat</mat-label>
            <input matInput formControlName="dateDebutContrat" required [matDatepicker]="dateDebutContrat">
            <mat-datepicker-toggle matSuffix [for]="dateDebutContrat"></mat-datepicker-toggle>
            <mat-datepicker #dateDebutContrat></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Date Fin de contrat</mat-label>
            <input matInput formControlName="dateFinContrat" required [matDatepicker]="dateFinContrat">
            <mat-datepicker-toggle matSuffix [for]="dateFinContrat"></mat-datepicker-toggle>
            <mat-datepicker #dateDebutContrat></mat-datepicker>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Convention applicable</mat-label>
            <input matInput formControlName="conventionApplicable" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Convention applicable</mat-label>
            <input matInput formControlName="conventionApplicable" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Sallaire contratuel</mat-label>
            <input matInput formControlName="salaireContractuel" required>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutGap="10%">
          <mat-form-field appearance="outline">
            <mat-label>Categorie de salaire</mat-label>
            <mat-select formControlName="categorie">
              <mat-option [value]="cdi">categorie cdi</mat-option>
              <mat-option [value]="cdd">categorie cdd</mat-option>
            </mat-select>
            <mat-icon matSuffix>email</mat-icon>
            <mat-error>Ce champ est obligatoire.</mat-error>
          </mat-form-field>
        </div>
           <button mat-button (click)="addItem()">Ajouter salarie</button>
      </div>
    </div>
    <div fxLayoutAlign="end" fxLayoutGap="10%">
      <button mat-raised-button mat-button matStepperPrevious>Precedent</button>
      <button  class="submit-button"  mat-button matStepperNext>Suivant</button>
  </div>
    </mat-step>
      <mat-step [stepControl]="infoSalarieForm" editable="false" label="Step 6" state="done_all">
          <ng-template matStepLabel>Comfirmation</ng-template> 
          <h4 class="mt-2 mb-2">Confirmation Demande</h4><br>
          <div class="report_infoFen">
         <mat-icon class="icon">person_outline</mat-icon> <h5 >Information General</h5><br>
         <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Nom de l'entreprise:</span>
               <b>{{input.get('mainRegistrationForm').get('shortName').value}}</b>
            </div>
            <div fxFlex="50">
                <span>Principal Secteur d'activite:</span>
                <b> {{input.get('mainRegistrationForm').get('mainLineOfBusiness').value | lowercase}}</b>
            </div>     
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Secteur d'activite:</span>
             <b> {{input.get('mainRegistrationForm').get('businessSector').value}}</b>
          </div>
           <div fxFlex="50">
              <span>Date d'inspection:</span>
               <b> {{input.get('mainRegistrationForm').get('dateOfInspection').value | date:'shortDate'}}</b>
            </div> 
          </div>
          
         <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
              <div fxFlex="50">
                <span>Date d'ouverture:</span>
                <b>{{input.get('mainRegistrationForm').get('dateOfFirstHire').value | date:'shortDate'}}</b>
              </div>
          <div fxFlex="50">
              <span>Region:</span>
              <b> {{input.get('mainRegistrationForm').get('region').value | lowercase}}</b>
            </div> 
          </div>
           <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Departement:</span>
              <b> {{input.get('mainRegistrationForm').get('department').value | lowercase}}</b>
            </div>
            <div fxFlex="50">
                <span>Arrondissement:</span>
                <b> {{input.get('mainRegistrationForm').get('arondissement').value | lowercase}}</b>
            </div>   
          </div>
        
         <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Commune:</span>
              <b> {{input.get('mainRegistrationForm').get('commune').value | lowercase}}</b>
          </div> 
            <div fxFlex="50">
              <span>Quartie:</span>
              <b> {{input.get('mainRegistrationForm').get('qartier').value}}</b>
            </div>
            
          </div>
           <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Adresse:</span>
              <b>  {{input.get('mainRegistrationForm').get('address').value}}</b>
            </div>  
          <div fxFlex="50">
            <span>Telephone:</span>
            <b> {{input.get('mainRegistrationForm').get('telephone').value}}</b>
        </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Email entreprise:</span>
             <b> {{input.get('mainRegistrationForm').get('email').value}}</b>
            </div>
            <div fxFlex="50">
              <span>Site Web:</span>&nbsp;
               <b> {{input.get('mainRegistrationForm').get('website').value}}</b>
            </div>
          </div>
        </div>
          <div class="report_infoEmpl">
              <mat-icon class="icon">person_outline</mat-icon> <h5 >Information Employeur</h5><br> 

          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
             <div fxFlex="50">
              <span>Type Employeur:</span>
            <b> {{input.get('employerQuery').get('employerType').value}}</b> 
            </div> 
            <div fxFlex="50">
              <span>Type Etablissement:</span>
              <b>{{input.get('employerQuery').get('typeEtablissement').value}}</b>
            </div>
          </div>
        
         <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Nom Employeur:</span>
              <b>{{input.get('employerQuery').get('employerName').value}}</b>
            </div>
            <div fxFlex="50">
              <span>Numero Ninea:</span>
              <b>{{input.get('employerQuery').get('nineaNumber').value}}</b>
            </div>
          </div>
        
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Numero Ninet:</span>
             <b> {{input.get('employerQuery').get('regType').value}}</b>
            </div>
          </div>

        </div>
        <div class="report_repLeagl">
          <mat-icon class="icon">person_outline</mat-icon>  <h5>Representant Legal</h5><br>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Nom:</span>
             <b> {{input.get('legalRepresentativeForm').get('lastName').value}} </b>
            </div>
            <div fxFlex="50">
              <span>Prenom:</span>
              <b>  {{input.get('legalRepresentativeForm').get('firstName').value}}</b>
            </div>
          </div>
       
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Date de naissance:</span>
             <b> {{input.get('legalRepresentativeForm').get('birthdate').value | date:'shortDate'}}</b>
            </div>
            <div fxFlex="50">
              <span>Naionalite:</span>
              <b>  {{input.get('legalRepresentativeForm').get('nationality').value | lowercase}}</b>
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Lieu de naissance:</span>
            <b>  {{input.get('legalRepresentativeForm').get('placeOfBirth').value }}</b>
            </div>
            <div fxFlex="50">
              <span>Ville de Naissance:</span>
              <b>  {{input.get('legalRepresentativeForm').get('cityOfBirth').value}}</b>
            </div>
          </div>
           <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Type de piece:</span>
            <b>  {{input.get('legalRepresentativeForm').get('typeOfIdentity').value}}</b>
            </div>
            <div fxFlex="50">
              <span>Numero piece d'identite:</span>
              <b>  {{input.get('legalRepresentativeForm').get('nin').value}} </b>
            </div>
          </div> 
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>NIN CEDEAO:</span>
             <b> {{input.get('legalRepresentativeForm').get('ninCedeo').value}} </b>
            </div>
            <div fxFlex="50">
              <span>Date delivrance:</span>
              <b>  {{input.get('legalRepresentativeForm').get('issuedDate').value | date:'shortDate'}} </b>
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Date d'expiration:</span>
            <b> {{input.get('legalRepresentativeForm').get('expiryDate').value | date:'shortDate'}}</b> 
            </div>
            <div fxFlex="50">
              <span>Region:</span>
              <b>  {{input.get('legalRepresentativeForm').get('region').value | lowercase}}</b>
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Department:</span>
            <b>  {{input.get('legalRepresentativeForm').get('department').value | lowercase}}</b>
            </div>
            <div fxFlex="50">
              <span>Arondissement:</span>
              <b> {{input.get('legalRepresentativeForm').get('arondissement').value | lowercase}}</b> 
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Commune:</span>
            <b>  {{input.get('legalRepresentativeForm').get('commune').value | lowercase}}</b>
            </div>
            <div fxFlex="50">
              <span>quartier:</span>
              <b>  {{input.get('legalRepresentativeForm').get('qartier').value}}</b>
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>Email:</span>
              <b> {{input.get('legalRepresentativeForm').get('email').value}}</b>
            </div>
            <div fxFlex="50">
              <span>Numero Telephone:</span>
               <b> {{input.get('legalRepresentativeForm').get('mobileNumber').value}}</b>
            </div>
          </div>
          <div fxLayout="row" class="mt-2" fxLayoutGap="5%">
            <div fxFlex="50">
              <span>addresse:</span>
             <b> {{input.get('legalRepresentativeForm').get('address').value}}</b>
            </div>
          </div> 
        </div> 
          <div class="mt-5" fxLayoutAlign="end" fxLayoutGap="10%">
            <button mat-raised-button mat-button matStepperPrevious>Precedent</button>
            <button  type="submit" (click)="addImmatriculation()" class="submit-button" mat-button matStepperNext>Confirmer</button>
          </div>
          
        
      </mat-step>
         <ng-template matStepperIcon="phone">
          <mat-icon>create_new_folder</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="chat">
          <mat-icon>library_books</mat-icon>
        </ng-template> 
        <ng-template matStepperIcon="person_outlined">
          <mat-icon>person_outlined</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="folder_open">
          <mat-icon>folder_open</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="folder">
          <mat-icon>file</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="done_all">
          <mat-icon>done_all</mat-icon>
        </ng-template>
  </mat-horizontal-stepper>
</form>
</div>
 
